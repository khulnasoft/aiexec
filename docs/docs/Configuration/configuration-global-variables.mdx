---
title: Global variables
slug: /configuration-global-variables
---

import Icon from "@site/src/components/icon";
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import EnvGlobalVars from '@site/docs/_partial-env-global-vars.mdx';

Global variables let you store and reuse generic input values and credentials across your [Aiexec projects](/concepts-flows#projects).
You can use a global variable in any text input field that displays the <Icon name="Globe" aria-hidden="true"/> **Globe** icon.

Aiexec stores global variables in its internal database, and encrypts the values using a secret key.

<EnvGlobalVars />

## Create a global variable

To create a new global variable, follow these steps.

1. In the Aiexec header, click your profile icon, and then select **Settings**.
2. Click **Global Variables**.

3. Click **Add New**.

4. In the **Create Variable** dialog, enter a name for your variable in the **Variable Name** field.

5. Optional: Select a **Type** for your global variable. The available types are **Generic** (default) and **Credential**.

   Aiexec encrypts both **Generic** and **Credential** type global variables. The difference is in how the variables are displayed in the visual editor:

   * Global variables of the **Generic** type are displayed in a standard input field with no masking.
   * Global variables of the **Credential** type are hidden in the visual editor and entered in a password-style input field that masks the value. This type isn't allowed in session ID fields where the value is exposed.

   All default environment variables and variables sourced from the environment using `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` are automatically set as **Credential** type.
   For more information, see [Default environment variables](#default-environment-variables).

6. Enter the **Value** for your global variable.

7. Optional: Use the **Apply To Fields** menu to select one or more fields that you want Aiexec to automatically apply your global variable to. For example, if you select **OpenAI API Key**, Aiexec automatically applies the variable to any **OpenAI API Key** field.

8. Click **Save Variable**.

You can now select your global variable from any text input field that displays the <Icon name="Globe" aria-hidden="true"/> **Globe** icon.

## Edit a global variable

1. In the Aiexec header, click your profile icon, and then select **Settings**.

2. Click **Global Variables**.

3. Click on the global variable you want to edit.

4. In the **Update Variable** dialog, you can edit the following fields: **Variable Name**, **Value**, and **Apply To Fields**.

5. Click **Update Variable**.

## Delete a global variable

Deleting a global variable permanently deletes the value from the database.
Flows that reference the deleted global variable will fail.

1. In the Aiexec header, click your profile icon, and then select **Settings**.

2. Click **Global Variables**.

3. Click the checkbox next to the global variable that you want to delete.

4. Click <Icon name="Trash2" aria-hidden="true"/> **Delete**.

The global variable is deleted from the database.

## Add custom global variables from the environment

You can use the `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` [environment variable](/environment-variables#global-variables-and-environment-integration) to source custom global variables from your runtime environment.
All global variables sourced from the environment are automatically set as **Credential** type global variables.

Aiexec's [default global variables](#default-environment-variables) are already included in this list and are automatically sourced when detected.
You can extend this list by setting `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` with your additional variables.

<Tabs>
<TabItem value="local" label="Local" default>

If you installed Aiexec locally, you must define the `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` environment variable in a `.env` file.

1. Create a `.env` file and open it in your preferred editor.

2. Add the `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` environment variable as follows:

   You can specify the variables either as a comma-separated string with no spaces, or as a JSON list:

   ```text
   # Option 1: Comma-separated string (no spaces)
   AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT=VARIABLE1,VARIABLE2

   # Option 2: JSON list format
   AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT=["VARIABLE1", "VARIABLE2"]
   ```

   Replace `VARIABLE1,VARIABLE2` with your additional variables that you want Aiexec to source from the environment, such as `CUSTOM_API_KEY,INTERNAL_SERVICE_URL` or `["CUSTOM_API_KEY", "INTERNAL_SERVICE_URL"]`.
   These are added to the [default list of variables](#default-environment-variables) that Aiexec already monitors, which includes common API keys like `OPENAI_API_KEY`, `ANTHROPIC_API_KEY`, and `GOOGLE_API_KEY`.

3. Save and close the file.

4. Start Aiexec with the `.env` file:

   ```bash
   uv run aiexec run --env-file .env
   ```

   Alternatively, you can set environment variables directly in the command line:

   ```bash
   VARIABLE1="VALUE1" VARIABLE2="VALUE2" uv run aiexec run --env-file .env
   ```

   The command-line variables will override any values in the `.env` file.
   Expose your environment variables to Aiexec in a manner that best suits your own environment.

5. Confirm that Aiexec successfully sourced the global variables from the environment:

   1. In the Aiexec header, click your profile icon, and then select **Settings**.

   2. Click **Global Variables**, and then make sure that your environment variables appear in the **Global Variables** list.

</TabItem>
<TabItem value="docker" label="Docker">

If you're using Docker, you can pass `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` directly from the command line or from a `.env` file.

To pass `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` directly from the command line:

```bash
docker run -it --rm \
    -p 7860:7860 \
    -e AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT="VARIABLE1,VARIABLE2" \
    -e VARIABLE1="VALUE1" \
    -e VARIABLE2="VALUE2" \
    khulnasoft/aiexec:latest
```

To pass `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` from a `.env` file:

```bash
docker run -it --rm \
    -p 7860:7860 \
    --env-file .env \
    -e VARIABLE1="VALUE1" \
    -e VARIABLE2="VALUE2" \
    khulnasoft/aiexec:latest
```

</TabItem>
</Tabs>

When adding global variables from the environment, the following limitations apply:

- You can only source the **Name** and **Value** from the environment.

  To add additional parameters, such as the **Apply To Fields** parameter, you must edit the global variables in your Aiexec **Settings**.

- Global variables that you add from the environment always have the **Credential** type.

## Disallow global variables from the environment

If you want to explicitly prevent Aiexec from sourcing global variables from the environment, set `AIEXEC_STORE_ENVIRONMENT_VARIABLES=False` in your `.env` file.

## Use environment variables for missing global variables

If you want to automatically set fallback values for your global variables to environment variables, set `AIEXEC_FALLBACK_TO_ENV_VAR=True` in your `.env` file. When this setting is enabled, if a global variable isn't found, Aiexec attempts to use an environment variable with the same name as a backup.

## Global variables automatically set by environment variables {#default-environment-variables}

Aiexec automatically detects and converts some environment variables into global variables of the type **Credential**, which are applied to the specific fields in components that require them.

The supported variables are listed in [constants.py](https://gitlab.com/khulnasoft/aiexec/blob/main/src/wfx/src/wfx/services/settings/constants.py).

## Configure global variable and environment variable handling

These environment variables configure how Aiexec handles the relationship between environment variables and global variables.

| Variable | Format | Default | Description |
|----------|--------|---------|-------------|
| `AIEXEC_STORE_ENVIRONMENT_VARIABLES` | Boolean | True | Whether to store environment variables as [global variables](/configuration-global-variables) in the database. |
| `AIEXEC_VARIABLES_TO_GET_FROM_ENVIRONMENT` | String | Not set | Comma-separated list of environment variables to get from the environment and store as [global variables](/configuration-global-variables). |
| `AIEXEC_FALLBACK_TO_ENV_VAR` | Boolean | True | If enabled, [global variables](/configuration-global-variables) set in your Aiexec **Settings** can use an environment variable with the same name if Aiexec can't retrieve the variable value from the global variables. |